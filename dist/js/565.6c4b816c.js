(self["webpackChunkmy_sideproject"]=self["webpackChunkmy_sideproject"]||[]).push([[565],{7972:function(e,t,i){
/*!
  * Bootstrap modal.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,s){e.exports=s(i(1437),i(4130),i(7317),i(7547),i(1884),i(632),i(5160),i(9069))})(0,(function(e,t,i,s,n,l,a,o){"use strict";const r=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},d=r(t),c=r(i),u=r(s),h=r(n),_=r(l),m=r(a),f="modal",p="bs.modal",g=`.${p}`,b=".data-api",v="Escape",y=`hide${g}`,w=`hidePrevented${g}`,k=`hidden${g}`,T=`show${g}`,P=`shown${g}`,D=`resize${g}`,S=`click.dismiss${g}`,A=`mousedown.dismiss${g}`,x=`keydown.dismiss${g}`,L=`click${g}${b}`,C="modal-open",$="fade",E="show",B="modal-static",j=".modal.show",q=".modal-dialog",M=".modal-body",z='[data-bs-toggle="modal"]',H={backdrop:!0,focus:!0,keyboard:!0},I={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class U extends h.default{constructor(e,t){super(e,t),this._dialog=c.default.findOne(q,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new u.default,this._addEventListeners()}static get Default(){return H}static get DefaultType(){return I}static get NAME(){return f}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;const t=d.default.trigger(this._element,T,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(C),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;const e=d.default.trigger(this._element,y);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(E),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])d.default.off(e,g);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new m.default({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=c.default.findOne(M,this._dialog);i&&(i.scrollTop=0),e.reflow(this._element),this._element.classList.add(E);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.default.trigger(this._element,P,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){d.default.on(this._element,x,(e=>{if(e.key===v)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),d.default.on(window,D,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),d.default.on(this._element,A,(e=>{d.default.one(this._element,S,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(C),this._resetAdjustments(),this._scrollBar.reset(),d.default.trigger(this._element,k)}))}_isAnimated(){return this._element.classList.contains($)}_triggerBackdropTransition(){const e=d.default.trigger(this._element,w);if(e.defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(B)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(B),this._queueCallback((()=>{this._element.classList.remove(B),this._queueCallback((()=>{this._element.style.overflowY=i}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),s=i>0;if(s&&!t){const t=e.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=`${i}px`}if(!s&&t){const t=e.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=U.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}return d.default.on(document,L,z,(function(t){const i=e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),d.default.one(i,T,(t=>{t.defaultPrevented||d.default.one(i,k,(()=>{e.isVisible(this)&&this.focus()}))}));const s=c.default.findOne(j);s&&U.getInstance(s).hide();const n=U.getOrCreateInstance(i);n.toggle(this)})),o.enableDismissTrigger(U),e.defineJQueryPlugin(U),U}))},7348:function(e,t,i){"use strict";i.d(t,{P:function(){return o}});i(7658);var s=i(2578),n=i(1362),l=i(36),a=i(4870);const o=(0,s.Q_)("allProducts",(()=>{const{db:e}=(0,n.r)(),t=(0,a.qj)([]);return async function(){await(0,l.cf)((0,l.hJ)(e,"products"),(e=>{t.length=0,e.forEach((e=>{t.push(e.data())}))}))}(),{allProducts:t}}))},3565:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return H}});var s=i(3396),n=i(4870),l=i(7139),a=i(2578),o=i(7348);const r=(0,a.Q_)("oneProduct",(()=>{const e=(0,n.iH)({});return{oneProduct:e}}));var d=i(1362),c=i(36),u=i(7972),h=i.n(u);const _={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},m={class:"modal-dialog"},f={class:"modal-content"},p=(0,s._)("div",{class:"modal-header"},[(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},b=(0,s._)("label",{class:"form-label"},"id",-1),v=["value"],y=(0,s._)("label",{class:"form-label"},"名稱",-1),w=["value"],k=(0,s._)("label",{class:"form-label"},"價格",-1),T=["value"],P=(0,s._)("label",{class:"form-label"},"種類",-1),D=["value"],S=(0,s._)("label",{class:"form-label"},"詳情",-1),A=["value"];var x={__name:"EditProduct",setup(e,{expose:t}){const{db:i}=(0,d.r)(),l=r(),{oneProduct:o}=(0,a.Jk)(l);let u="";const x=()=>{u.show()},L=()=>{u.hide()};t({showModal:x,hideModal:L});const C=async()=>{const e={newId:o.value.newId,name:document.querySelector(".inputName").value,price:document.querySelector(".inputPrice").value,category:document.querySelector(".inputCategory").value,description:document.querySelector(".inputDescription").value};await(0,c.r7)((0,c.JU)(i,"products",e.newId),e),await u.hide()};function $(){}return(0,s.bv)((()=>{u=new(h())(document.querySelector("#exampleModal"))})),$(),(e,t)=>((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",m,[(0,s._)("div",f,[p,(0,s._)("div",g,[(0,s._)("form",null,[b,(0,s._)("input",{value:(0,n.SU)(o).newId,type:"text",class:"form-control",disabled:""},null,8,v),y,(0,s._)("input",{ref:"itemName",value:(0,n.SU)(o).name,type:"text",class:"form-control inputName"},null,8,w),k,(0,s._)("input",{ref:"itemPrice",value:(0,n.SU)(o).price,type:"text",class:"form-control inputPrice"},null,8,T),P,(0,s._)("input",{ref:"itemCategory",value:(0,n.SU)(o).category,type:"text",class:"form-control inputCategory"},null,8,D),S,(0,s._)("textarea",{ref:"itemDescription",value:(0,n.SU)(o).description,class:"form-control text_area inputDescription",style:{height:"100px"}},null,8,A)])]),(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:C},"儲存更改")])])])]))}};const L=x;var C=L;const $={class:"container-fluid row"},E={class:"col-md-3"},B={class:"col-12 col-md-9"},j=(0,s._)("tr",null,[(0,s._)("th",null,"名稱"),(0,s._)("th",null,"單價"),(0,s._)("th",null,"種類"),(0,s._)("th",null,"編輯"),(0,s._)("th",null,"刪除")],-1),q=["onClick"];var M={__name:"DashBoard",setup(e){const t=(0,o.P)(),{allProducts:i}=(0,a.Jk)(t),d=r(),{oneProduct:c}=(0,a.Jk)(d),u=(0,n.iH)(null),h=e=>{c.value=e,console.log(e)};function _(){}return(0,s.bv)((()=>{})),_(),(e,t)=>{const a=(0,s.up)("NavBar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",$,[(0,s._)("div",E,[(0,s.Wm)(a)]),(0,s._)("div",B,[(0,s._)("table",null,[j,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(i),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,l.zw)(e.name),1),(0,s._)("td",null,(0,l.zw)(e.price),1),(0,s._)("td",null,(0,l.zw)(e.category),1),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-dark",onClick:t=>{u.value.showModal(),h(e)}},"修改",8,q)])])))),128))])])]),(0,s.Wm)(C,{ref_key:"editProduct",ref:u},null,512)],64)}}};const z=M;var H=z}}]);
//# sourceMappingURL=565.6c4b816c.js.map