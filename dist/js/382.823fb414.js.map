{"version":3,"file":"js/382.823fb414.js","mappings":"+aAMA,MAAM,QAAEA,IAAYC,EAAAA,EAAAA,KAGpB,IAAIC,EAAM,GAEV,MAAMC,GAAgBC,EAAAA,EAAAA,IAAI,qBAEpBC,GAAUD,EAAAA,EAAAA,IAAI,IAEdE,GAAcC,EAAAA,EAAAA,KAAS,IACpBJ,EAAcK,MAAQH,EAAQG,QAGvC,SAASC,IACPJ,EAAQG,MAAQN,EAAIQ,MAAM,GAAGC,KAC7BC,QAAQC,IAAIP,EAAYE,MAC1B,CAEA,SAASM,IACP,MAAMC,GAAaC,EAAAA,EAAAA,IAAYhB,EAASM,EAAYE,QAEpDS,EAAAA,EAAAA,IAAYF,EAAYb,EAAIQ,MAAM,IAC/BQ,MAAMC,IACLP,QAAQC,IAAI,2BAA2B,IAExCO,OAAOC,IACNT,QAAQC,IAAI,UACZD,QAAQC,IAAIQ,EAAM,GAExB,C,OAEAC,EAAAA,EAAAA,KAAU,KACRpB,EAAMqB,SAASC,cAAc,QAAQ,I,8HCnCvC,MAAMC,EAAc,EAEpB,O","sources":["webpack://my-sideproject/./src/views/TestTest3.vue","webpack://my-sideproject/./src/views/TestTest3.vue?0222"],"sourcesContent":["<script setup>\r\n// firebase storage 上傳圖片\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport { dataBase } from '@/composables/db.js'\r\nimport { ref as firebaseRef, uploadBytes } from 'firebase/storage'\r\n\r\nconst { storage } = dataBase()\r\n\r\n// doc == <input>欄位\r\nlet doc = ''\r\n// firebase資料夾路徑\r\nconst storageFolder = ref('products_img/001/')\r\n// 要上傳的檔案名稱\r\nconst docName = ref('')\r\n// 資料夾路徑 + 檔案名稱\r\nconst storagePath = computed(() => {\r\n  return storageFolder.value + docName.value\r\n})\r\n\r\nfunction checkFile () {\r\n  docName.value = doc.files[0].name\r\n  console.log(storagePath.value)\r\n}\r\n\r\nfunction upload () {\r\n  const storageRef = firebaseRef(storage, storagePath.value)\r\n\r\n  uploadBytes(storageRef, doc.files[0])\r\n    .then((snapshot) => {\r\n      console.log('Uploaded a blob or file!')\r\n    })\r\n    .catch((error) => {\r\n      console.log('上傳失敗了：')\r\n      console.log(error)\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n  doc = document.querySelector('.file')\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <label for=\"formFileMultiple\" class=\"form-label\">Multiple files input example</label>\r\n    <input class=\"form-control file\" type=\"file\" id=\"formFile\">\r\n    <button @click=\"checkFile\">check</button>\r\n    <button @click=\"upload\">upload</button>\r\n  </div>\r\n</template>\r\n","import script from \"./TestTest3.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TestTest3.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["storage","dataBase","doc","storageFolder","ref","docName","storagePath","computed","value","checkFile","files","name","console","log","upload","storageRef","firebaseRef","uploadBytes","then","snapshot","catch","error","onMounted","document","querySelector","__exports__"],"sourceRoot":""}