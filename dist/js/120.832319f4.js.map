{"version":3,"file":"js/120.832319f4.js","mappings":"+1BAOA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAAKF,EAAMG,OAAOD,GAClBE,GAAQC,EAAAA,EAAAA,IAAI,GAGZC,GAAQC,EAAAA,EAAAA,MACR,aAAEC,GAAiBF,GAGnB,GAAEG,IAAOC,EAAAA,EAAAA,KACTC,GAASC,EAAAA,EAAAA,IAAIH,EAAI,WAAa,GAAEP,KAChCW,GAAUR,EAAAA,EAAAA,IAAI,IAEdS,GAAWC,EAAAA,EAAAA,KAAS,IACjBF,EAAQG,MAAMC,MAAQb,EAAMY,SAIrC,iBACE,MAAME,QAAmBC,EAAAA,EAAAA,IAAOR,GAC5BO,EAAWE,WACbP,EAAQG,MAAQE,EAAWG,OAC3BC,QAAQC,IAAIV,EAAQG,OAEvB,EAND,GAQA,MAAMQ,EAAe,KACfpB,EAAMY,OAAS,GACjBZ,EAAMY,OACR,EAEIS,EAAc,KAClBrB,EAAMY,OAAO,EAGf,SAASU,IAAM,C,OACfA,I,49BCrCA,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://my-sideproject/./src/views/ProductDetail.vue","webpack://my-sideproject/./src/views/ProductDetail.vue?f49c"],"sourcesContent":["<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { usePurchaseItemStore } from '@/store/usePurchaseItemStore.js'\r\nimport { dataBase } from '@/composables/db.js'\r\nimport { doc, getDoc } from 'firebase/firestore'\r\n\r\nconst route = useRoute()\r\nconst id = route.params.id\r\nconst count = ref(1)\r\n\r\n// pinia\r\nconst store = usePurchaseItemStore()\r\nconst { addCartStore } = store\r\n\r\n// firebase\r\nconst { db } = dataBase()\r\nconst docRef = doc(db, 'products', `${id}`)\r\nconst product = ref('')\r\n\r\nconst subtotal = computed(() => {\r\n  return product.value.price * count.value\r\n});\r\n\r\n// IIFE 立即執行：從firebase取得資料\r\n(async function () {\r\n  const getContent = await getDoc(docRef)\r\n  if (getContent.exists()) {\r\n    product.value = getContent.data()\r\n    console.log(product.value)\r\n  }\r\n})()\r\n\r\nconst minusProduct = () => {\r\n  if (count.value >= 2) {\r\n    count.value--\r\n  }\r\n}\r\nconst plusProduct = () => {\r\n  count.value++\r\n}\r\n\r\nfunction a () {}\r\na()\r\n</script>\r\n\r\n<template>\r\n  <div class=\"container-fluid row\">\r\n    <div class=\"col-md-3\">\r\n      <NavBar></NavBar>\r\n    </div>\r\n    <div class=\"col-12 col-md-9 product_detail\">\r\n      <div class=\"d-flex flex-column flex-md-row\">\r\n        <figure class=\"product_detail_img_frame\">\r\n          <img :src=\"product.imgUrl\">\r\n        </figure>\r\n        <div class=\"product_detail_right_info\">\r\n          <div class=\"h4\">{{ product.name }}</div>\r\n          <div class=\"h4\">單價NT$<span class=\"product_detail_price text-secondary\">&emsp;{{ product.price }}</span></div>\r\n          <div class=\"d-flex my-3\">\r\n              <div @click=\"minusProduct()\" class=\"num_minus bg-dark\">\r\n                <span class=\"text-center\" style=\"color: white;\">\r\n                  <font-awesome-icon icon=\"fa-solid fa-minus\" />\r\n                </span>\r\n              </div>\r\n              <input :value=\"count\" class=\"num_input text-center\" type=\"text\" min=\"1\" readonly>\r\n              <div @click=\"plusProduct()\" class=\"num_plus bg-dark\">\r\n                <span class=\"text-center\" style=\"color: white;\">\r\n                  <font-awesome-icon icon=\"fa-solid fa-plus\" />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          <button\r\n            @click=\"addCartStore(product, count, subtotal)\"\r\n            type=\"button\"\r\n            class=\"addCart_btn btn btn-secondary d-block\">\r\n            加入購物車\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <div class=\"product_description mx-auto p-1 p-md-2 mb-2\">{{ product.description }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n  span{\r\n    display: block;\r\n  }\r\n  .product_detail {\r\n    min-height: 100vh;\r\n    background-color: #ffffff;\r\n    background-image:  repeating-linear-gradient(45deg, #e1e1e180 25%, transparent 25%, transparent 75%, #e1e1e180 75%, #e1e1e180), repeating-linear-gradient(45deg, #e1e1e180 25%, #ffffff 25%, #ffffff 75%, #e1e1e180 75%, #e1e1e180);\r\n    background-position: 0 0, 23px 23px;\r\n    background-size: 46px 46px;\r\n  }\r\n  .product_detail_img_frame{\r\n    width: 50%;\r\n    img{\r\n      display: block;\r\n      width: 75%;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  @media screen and (max-width: 768px) {\r\n    .product_detail_img_frame{\r\n    width: 100%;\r\n      img{\r\n        width: 90%;\r\n      }\r\n    }\r\n  }\r\n  .product_detail_right_info{\r\n    width: 50%;\r\n    .product_detail_price{\r\n      display: inline;\r\n    }\r\n    .addCart_btn{\r\n      display: block;\r\n      width: 70%;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  @media screen and (max-width: 768px){\r\n    .product_detail_right_info{\r\n    width: 90%;\r\n    padding-left: 20px;\r\n      .product_detail_price{\r\n        display: inline;\r\n      }\r\n      .addCart_btn{\r\n        width: 100%;\r\n        margin: 0 auto;\r\n      }\r\n    }\r\n  }\r\n  .product_description {\r\n    background: white;\r\n    width: 95%;\r\n    white-space: pre-wrap;\r\n    box-shadow: 0 2px 10px lightgray;\r\n  }\r\n  .num_minus, .num_plus{\r\n    width: 50px;\r\n  }\r\n  .num_input{\r\n    width: 50px;\r\n  }\r\n</style>\r\n","import script from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=56f48ea5&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\relif\\\\OneDrive\\\\Desktop\\\\my-sideproject\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56f48ea5\"]])\n\nexport default __exports__"],"names":["route","useRoute","id","params","count","ref","store","usePurchaseItemStore","addCartStore","db","dataBase","docRef","doc","product","subtotal","computed","value","price","getContent","getDoc","exists","data","console","log","minusProduct","plusProduct","a","__exports__"],"sourceRoot":""}